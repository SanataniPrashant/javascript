<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cozy Cafe</title>
  <style>
    /* General Reset */
body, h1, h2, p, ul, li, a {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  /* Body Styling */
  body {
    font-family: 'Arial', sans-serif;
    line-height: 1.6;
    color: #333;
  }
  
  /* Header */
  .hero {
    background: url('https://media.istockphoto.com/id/157528129/photo/mug-on-plate-filled-with-coffee-surrounded-by-coffee-beans.jpg?s=2048x2048&w=is&k=20&c=MS8zRXpTLEWHil5wmLqKMawDsZZ9MIzWx_ly_-sZhMQ=') no-repeat center center/cover;
    color: white;
    height: 100vh;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
  
  .navbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    position: fixed;
    top: 0;
    width: 100%;
    background: rgba(0, 0, 0, 0.6);
  }
  
  .logo {
    font-size: 24px;
    font-weight: bold;
    color: white;
  }
  
  .nav-links {
    list-style: none;
    display: flex;
  }
  
  .nav-links li {
    margin: 0 15px;
  }
  
  .nav-links a {
    text-decoration: none;
    color: white;
    font-size: 16px;
  }
  
  .hero-content {
    margin-top: 100px;
  }
  
  .hero-content h1 {
    font-size: 48px;
  }
  
  .hero-content p {
    font-size: 20px;
    margin: 10px 0 20px;
  }
  
  .btn {
    text-decoration: none;
    padding: 10px 20px;
    background: #ff7a59;
    color: white;
    border-radius: 5px;
    transition: 0.3s;
  }
  
  .btn:hover {
    background: #ff5a3e;
  }
  
  /* About Section */
  .about {
    padding: 50px 20px;
    text-align: center;
    background: #f4f4f4;
  }
  
  .about h2 {
    font-size: 32px;
    margin-bottom: 20px;
  }
  
  /* Footer */
  .footer {
    text-align: center;
    padding: 20px;
    background: #333;
    color: white;
  }

  table {
  border-collapse: collapse;
  width: 100%;
  margin-bottom: 20px;
}

th, td {
  border: 1px solid #ddd;
  padding: 10px;
  text-align: left;
}

th {
  background-color: #f0f0f0;
  font-weight: bold;
}

td {
  background-color: #fff;
}

td:hover {
  background-color: #f5f5f5;
}

.done-btn {
  background-color: #4CAF50;
  color: #fff;
  padding: 5px 10px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

.done-btn:hover {
  background-color: #3e8e41;
}
  </style>
</head>
<body onload="read()">
  <header class="hero">
    <nav class="navbar">
      <div class="logo">Cozy Cafe</div>
      <ul class="nav-links">
        <li><a href="./admin.html">Admin Dashaboard</a></li>
        <li><a href="./index.html">Home</a></li>
        <li><a href="#orderinfo">Orders</a></li>
      </ul>
    </nav>
    <div class="hero-content">
      <h1>Welcome to Cozy Cafe</h1>
      <p>Where every sip and bite feels like home.</p>
      <a href="#menu" class="btn">Explore Menu</a>
    </div>
  </header>

  <section id="orderinfo"></section>

  <section id="about" class="about">
    <div class="container">
      <h2>About Us</h2>
      <p>
        Cozy Cafe is your perfect getaway spot for delightful coffee, tasty treats, and cozy vibes. Join us to experience a warm ambiance and flavors that linger.
      </p>
    </div>
  </section>
  <div id="or" style="text-align: center; font-size: 24px; font-weight: bold; margin-bottom: 20px;">ORDER DETAILS</div>
  <section id="demo">
    <table id="order-table">
      <thead>
        <tr>
          <th>Sno</th>
          <th>Image</th>
          <th>Description</th>
          <th>Name</th>
          <th>Quantity</th>
          <th>Price</th>
          <th>Total</th>
          <th>Done</th>
        </tr>
      </thead>
      <tbody id="order-table-body">
        <!-- table rows will be generated dynamically -->
      </tbody>
    </table>
  </section>

  <footer id="contact" class="footer">
    <div class="container">
      <h2>Contact Us</h2>
      <p>Email: contact@cozycafe.com</p>
      <p>Phone: (123) 456-7890</p>
      <p>Address: 123 Coffee Lane, Brew City</p>
    </div>


  <script>

//     async function read(){
//     let data = await fetch("http://localhost:3000/order1");
//     let jsondata = await data.json();
//     console.log(jsondata);

//     let table = `
//         <table id="order-table">
//             <tr>
//                 <th>Sno</th>
//                 <th>Dedcription</th>
//                 <th>Name</th>
//                 <th>Quantity</th>
//                 <th>Price</th>
//                 <th>Total</th>
//                 <th>Done</th>

//             </tr>
//         `;


//      jsondata.map((key)=>{
//         table+=`
//         <tr>
//         <td>${key.Sno}</td>
//         <td>${key.description}</td>
//         <td>${key.name}</td>
//         <td>${key.quantity}</td>
//         <td>${key.price}</td>
//         <td>${key.total}</td>
//         <td onclick="delete()">Done</td>
//         `
//      })
//     table+=`</table>`
//     document.getElementById("demo").innerHTML= table;
// }
async function read(){
  let data = await fetch("http://localhost:3000/order1");
  let jsondata = await data.json();
  console.log(jsondata);

  const tableBody = document.getElementById("order-table-body");

  jsondata.forEach((order) => {
  const row = document.createElement("tr");
  row.setAttribute("data-sno", order.Sno); // Set the data-sno attribute
  row.innerHTML = `
    <td>${order.Sno}</td>
    <td><img width="200px" src="${order.imageurl}" alt="ram"></td>
    <td>${order.description}</td>
    <td>${order.name}</td>
    <td>${order.quantity}</td>
    <td>${order.price}</td>
    <td>${order.total}</td>
    <td><button class="done-btn" onclick="del(${order.Sno})">Done</button></td>
  `;
  tableBody.appendChild(row);
});
}
function del(Sno) {
  // Prompt the user for confirmation
  let res = window.confirm("Do you really want to delete this order?");
  
  if (res) {
    // Send a DELETE request to the server
    fetch(`http://localhost:3000/order1/${Sno}`, {
      method: 'DELETE'
    })
    .then(response => {
      if (!response.ok) {
        throw new Error('Network response was not ok');
      }
      return response.json();
    })
    .then(data => {
      console.log(data);
      
      // Remove the table row from the DOM
      const tableRow = document.querySelector(`tr[data-sno="${Sno}"]`);
      if (tableRow) {
        tableRow.remove();
      } else {
        console.error("Row not found in the DOM");
      }
    })
    .catch(error => {
      console.error('Error:', error);
      alert("Failed to delete the order. Please try again.");
    });
  } else {
    alert("Deletion cancelled.");
  }
}
    </script>
</body>
</html>